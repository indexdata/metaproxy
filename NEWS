--- 1.3.1 2011/07/28

zoom: fix a bug WRT passing authentication parameters to backends.

--- 1.3.0 2011/07/27

Fixes for windows Makefile.

--- 1.2.10 2011/07/25 

Change major version of metaproxy library from 3 to 4. This in turn
makes new package names for Debian and RPM.

--- 1.2.9 2011/06/27

zoom: enable marc-8 encoding by default for usmarc and opac (in pz2
transforn mode).

zoom: configurable element sets for record transforms.
    
zoom: the target profile based transform is specified by element_transform
in element torus of of the ZOOM filter configuration ; default value
is "pz2". Target profile based retrieval is specified by element_raw
in configuration. It will perform same steps, but omit the XSL transform.
Default value is "raw".

zoom: element set is omitted if not set in profile. But only if pz2
transform is in effect. Previously the default element set was to "F".

zoom: For non-CF targets database arguments are parsed. User may supply
db,user=myuser&password=mypass for non-CF targets. These values override
what's given the authentication from the target profile.

session_shared: fix reference to freed memory. Would occur if a search
response had non-surrogate diagnostics.

--- 1.2.8 2011/06/22

Route may be given for each port in frontend_net.

--- 1.2.7 2011/06/22

Documentation for zoom filter. Local target profiles may be specified.

Fixes for zoom filter.

--- 1.2.6 2011/06/15

First version with zoom filter.

--- 1.2.5 2011/05/06

Filter z3950_client may be configured to always send a close APDU
to backend target when connection/session is closed. This will only
happen if close APDU is not already sent. Enabled by configuration
for z3950_client (force_close).

Filter virt_db and multi: relay close APDU.

Filter virt_db and multi: relay init size parameters 
preferredMessageSize and maximumRecordSize.

Filter sru_z3950: increase init sz parameters from 1MB to 10 MB.

--- 1.2.4 2011/01/27

RPM package for Metaproxy works for both SLES11 and Centos 5.5.

metaproxy-config: exec_prefix, libdir, includedir. Use these variables
as determined by configure.

RPM: Release includes 'indexdata' name. Use indexdata in release name so
this package can be distinguished from other vendors.

--- 1.2.3 2010/10/04

Fix filter multi: relay idAuthentication parameters.

--- 1.2.2 2010/09/15

Add metaproxy-config for returning compiler flags, libraries.

--- 1.2.1 2010/08/18

Fix --with-boost=PREFIX .

--- 1.2.0 2010/07/09

session_shared: fix use of maintenance thread.

Introduce 'start' method for filters and routers. It gets called after
configure and after fork, but before processing. This changes API -
from libmetaproxy2 to libmetaproxy3.

--- 1.1.7 2010/06/30

session_shared: ensure backend session is closed if init rejected
is received.

z3950_client: fix NULL ptr reference that could occur if two clients
connected concurrently and if max-sockets was in effect.

--- 1.1.6 2010/06/21

Fix bug 3497 - Metaproxy unstable while stopping.

Fix bug 3495 - SEGV in SRU filter.

--- 1.1.5 2010/06/15

Filter multi throws diagnostic 'Present Out of Range' when
appropriate - rather than returning 0 records.

Filter virt_db: fix bad result reuse. Could happen if a result
was overriden and a backend did not supported named result sets.

--- 1.1.4 2010/05/11

Filter log: category access logs diagnostics even if searchStatus
or presentStatus is 'success'.

--- 1.1.3 2010/04/21

The SRU to Z39.50 filter does repeated Z39.50 present requests
to fetch all records. Needed when a Z39.50 server returns partial
results (due to message size limits).

--- 1.1.2 2010/03/18

Metaproxy now kills all child processes that are spawned by
modules (in case of fork, exec).

--- 1.1.1 2010/01/28

Debian package now installs /etc/metaproxy/metaproxy.xml which
includes all XML files /etc/metaproxy/filters-enabled .
The include facility uses YAZ' yaz_xml_include_simple (YAZ 4.0.1).

--- 1.1.0 2010/01/20

Package based on YAZ version 4 and YAZ++ 1.2.0. It now includes a
development package to facilitate 3rd party Metaproxy modules.

--- 1.0.23 2010/01/04

Filter virt_db: Close backend filter session when Init rejected is received
from it (in which case it's not really closed yet). This will ensure we don't
run out of resources such as FDs in this case.

sru_z3950 filter: Accept any database (including those not listed).

--- 1.0.22 2009/12/03

Prepare for 64-bit YAZ. yazproxy will still work with YAZ++ 1.1.4 or
later which means YAZ 3.0.47 or later.

--- 1.0.20 2009/11/19

For filter virt_db, the database is a glob pattern and the virtual
database sections are consulted in the order given.

--- 1.0.19 2009/07/08

For filter multi, the target (for routing) may be given as a glob-pattern.

More documentation for filters virt_db and multi.

Update schema to allow for no database in sru_z3950 filter.

--- 1.0.18 2009/06/30

Added limit filter to put sleep (penalty) for heavy use.

Filter frontend_net may be configured to limit the number of new connections
from same IP to some value (connect-max).

Fixed the load_balance filter.

--- 1.0.17 2009/06/16

Fix path for metaproxy executable for Debian init.d script.

--- 1.0.16 2009/06/10

SRU to Z39.50 filter honors x-username and x-password. If only
x-username is given that translates to open authentication (Z39.50v2). If
both x-username and x-password is present that translates to idPass
authentication (Z39.50v3).

New facility to change current working directory (-w).

Update to upstream skeleton of init.d script. Should fix bug #2619.

Filter session_shared now caches records (used to only cache connections
and result sets).

Filter session_shared now invalidates a Z39.50 session if a server
returns -1 hits. This facility was also part of yazproxy and gets around
a bug in Voyager-based Z39.50 servers.

--- 1.0.15 2008/11/18

Fixed reference counting bug in Z39.50 client module (could cause SEGV).

--- 1.0.14 2008/06/09

Fixed the value of SRU record schema in searchRetrieve response. It was set
to a fixed value of "dc" before.

Serialize identical SRU requests. This is useful if HTTP client software
fires identical requests against metaproxy.

Allow Z39.50 target to be specified for SRU requests by using SRU extra
parameter x-target. Allows SRU to contact arbitrary Z39.50 targets and
avoid static configuration. This facility is handled by the sru_z3950 module
and the z3950_client module.

Allow maximum number of sockets to be used for a Z39.50 client by the
use of SRU extra parameter x-max-sockets. This facility is handled by the
sru_z3950 module and the z3950_client module.

--- 1.0.13.1 2008/02/29

Simplified check for Boost libraries.

--- 1.0.13 2008/02/29

First Debian package.

The sru_z9350 filter now recognizes SRU parameter z-target as being
a ZURL of the form host/database . 

Mergetype may be specified for filter 'multi'.

--- 1.0.12 2007/09/19

Fixed problem in Makefile WRT library specifictions. This could produce
linker errors (when they should not happen).

Fixed bug #1341: MetaProxy returning different results. Problem was that
fix-up of record database did not normalize the database name.

Documentation updates for Windows compilation.

--- 1.0.11 2007/06/14

Fixed problem with logfile being truncated.

--- 1.0.10 2007/05/23

Fixed bug #1136: Access rights not enforced.

Extension for log module. The log category 'access' logs more details.
New category 'user-access' added which is simlar to 'access' but adds
the Z39.50 user as for all entries in a session.

Switched to GPL v2.

Added support for configurable default/force target/vhost for module Z39.50
client module.

--- 1.0.8 2007/01/25

Implemented filter, session_shared, which optimizes usage of Z39.50
sessions and result sets.

New filter, record_transform, which converts MARC/XML records.

New filter, sru_z3950, which converts SRU to Z39.50 packages.

New filter, load_balance, in development.

New filter, zeerex_xplain.

XML framework for config files started.

Master RelaxNG Compact schema's are found in xml/schema/*.rnc,
RelaxNG XML schemas and XML Schema's are generated from RNC syntax.
XML config files are checked against RNG and XML Schema's.

XSLT transformation framework added in xml/xslt/*.xsl, consisting mainly of 
LOC Marc21 stylesheets found at http://www.loc.gov/marcxml/xslt.
Added stylesheet explain2cqlpqftxt.xsl which transforms a standard SRU ZeeReX 
explain record to YAZ CQL-to-PQF text config file. 

--- 1.0.7 2006/11/07

Added 'timeout' setting for filter frontend_net which specifies the number
of seconds a session is idle before it is closed. Default timeout is
300 (5 minutes).

--- 1.0.6 2006/07/07

Database name in records returned set for virt_db/multi filters.

Filter session_shared now functional.

Log filter can be configured to write to a given file using 'filename'
element. Also information category can be specified with 'category'. If
filename is omitted, the log filter writes to stdout. See etc/config5.xml
for example.

--- 1.0.5 2006/05/16

Fixed compilation on Windows.

--- 1.0.4 2006/05/16

Added documentation for the hidenavailable option for the multi filter.

--- 1.0.3 2006/05/16

Fixed bug #573: Hide errors for individual servers. If the element
'hideunavailable' is given in the configuration, individual servers
being unavailable are hidden (unless all are unavailable). 

Fixed bug #574: Database names are recognised case-sensitively.

Fixed bug #567: Fix up database name in Name-Plus-Record.

Fixed bug #568: Update win/makefile for VS 2005.

Fixed bug #569: Some options throws unknown exception.

--- 1.0.2 2006/04/28

More information about virtual hosts. The 'etc' directory is part of the
distribution tar.

--- 1.0.1 2006/04/27

Build instructions for Windows. NMake makefile part of distribution tar.

--- 1.0.0 2006/04/24

More documentation.

Filters functional: auth_simple, backend_test, frontend_net, http_file,
 log, multi, query_rewrite, template, virt_db, z3950_client.

Filters in development: session_shared.

Pseudo-filters: template, dl

--- 0.9 2006/03/27
